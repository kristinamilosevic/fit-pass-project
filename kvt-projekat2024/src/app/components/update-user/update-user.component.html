<!-- update-user.component.html -->
<div class="container">
    <h2>Update User Information</h2>
    
    <form (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="email">Email:</label>
        <input 
          type="email" 
          id="email" 
          class="form-control" 
          [(ngModel)]="email" 
          name="email" 
          required>
      </div>
      
      <div class="form-group">
        <button type="button" class="btn btn-secondary" (click)="navigateToChangePassword()">
          Change Password
        </button>
      </div>

      <div class="form-group">
        <label for="name">Name:</label>
        <input 
          type="text" 
          id="name" 
          class="form-control" 
          [(ngModel)]="user.name" 
          name="name">
      </div>
  
      <div class="form-group">
        <label for="surname">Surname:</label>
        <input 
          type="text" 
          id="surname" 
          class="form-control" 
          [(ngModel)]="user.surname" 
          name="surname">
      </div>
  
      <div class="form-group">
        <label for="phoneNumber">Phone Number:</label>
        <input 
          type="text" 
          id="phoneNumber" 
          class="form-control" 
          [(ngModel)]="user.phoneNumber" 
          name="phoneNumber">
      </div>
  
      <div class="form-group">
        <label for="address">Address:</label>
        <input 
          type="text" 
          id="address" 
          class="form-control" 
          [(ngModel)]="user.address" 
          name="address">
      </div>
  
      <div class="form-group">
        <label for="city">City:</label>
        <input 
          type="text" 
          id="city" 
          class="form-control" 
          [(ngModel)]="user.city" 
          name="city">
      </div>
  
      <div class="form-group">
        <label for="zipCode">Zip Code:</label>
        <input 
          type="text" 
          id="zipCode" 
          class="form-control" 
          [(ngModel)]="user.zipCode" 
          name="zipCode">
      </div>
  
      <div class="form-group">
        <label for="birthday">Birthday:</label>
        <input 
          type="date" 
          id="birthday" 
          class="form-control" 
          [(ngModel)]="user.birthday" 
          name="birthday">
      </div>
  
      <button type="submit" class="btn btn-primary">Update User</button>
    </form>

    <h3>User Reviews</h3>
    <div *ngIf="reviews.length > 0; else noReviews">
      <ul class="list-group">
        <li *ngFor="let review of reviews" class="list-group-item">
          <strong>Created At:</strong> {{ review.createdAt | date:'dd.MM.yyyy HH:mm' }}<br>
          <strong>Exercise Count:</strong> {{ review.exerciseCount }}<br>
          <strong>Facility:</strong> {{ review.facilityName  || 'No facility name' }}<br>
          <strong>Rate:</strong>
          <ul>
            <li>Equipment: {{ review.rate?.equipment || 'No rating' }}</li>
            <li>Staff: {{ review.rate?.staff || 'No rating' }}</li>
            <li>Hygiene: {{ review.rate?.hygiene || 'No rating' }}</li>
            <li>Space: {{ review.rate?.space || 'No rating' }}</li>
          </ul>
          <strong>Comment:</strong> {{ review.commentText || 'No comment' }}<br>
        </li>
      </ul>
    </div>
    <ng-template #noReviews>
      <p>No reviews found for this user.</p>
    </ng-template>
    

<h3>User Visited Facilities</h3>
    <div *ngIf="visitedFacilities.length > 0; else noFacilities">
      <ul class="list-group">
        <li *ngFor="let facilityInfo of visitedFacilities" class="list-group-item">
          <strong>Facility Name:</strong> {{ facilityInfo.facility.name }}<br>
          <strong>Visit Count:</strong> {{ facilityInfo.visitCount }}<br>
        </li>
      </ul>
    </div>
    <ng-template #noFacilities>
      <p>No visited facilities found for this user.</p>
    </ng-template>
  </div>
  